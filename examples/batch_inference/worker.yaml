envs:
  DATA_BUCKET: r2://my-data-bucket
  OUTPUT_BUCKET: r2://my-output-bucket
  # The file path that contains the paths to data chunks to be processed.
  DATA_CHUNK_FILE:

file_mounts:
  /data:
    source: $DATA_BUCKET
    mode: MOUNT

  /output:
    source: $OUTPUT_BUCKET
    mode: MOUNT

  /chunks.txt: $DATA_CHUNK_FILE

resources:
  accelerators: L4:8

setup: |
  pip install vllm


run: |
  python worker.py --data-chunk-file /chunks.txt --output-path /output
